<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<style>
		h1 {
			user-select: none;
		}
	</style>
</head>
<body>
	<h1>클릭 횟수 : <span id="target">0</span></h1>
	<button id="connectBtn">이벤트 연결</button>
	<button id="disconnectBtn">이벤트 연결 제거</button>
	<p>이벤트 연결 상태: <span id="state">해제</span></p>
	<script>
		let counter = 0;
		let isConnect = false;
		
		const h1 = document.querySelector('h1');
		const target = document.querySelector('#target');
		const state = document.querySelector('#state');
		const connectBtn = document.querySelector('#connectBtn');
		const disconnectBtn = document.querySelector('#disconnectBtn');
		
		const callback = function() { // 콜백 : 매개변수값으로 입력되는 함수, 이벤트에 의해 처리될 때는 리스너(핸들러)라고 불림
			counter = counter + 1;
			target.textContent = counter;
		};
		
		connectBtn.addEventListener('click', function() {
			if(isConnect == false) {
				h1.addEventListener('click', callback);
				state.textContent = '연결';
				isConnect = true;
			}
		});
		
		disconnectBtn.addEventListener('click', function() {
			if(isConnect == true) {
				h1.removeEventListener('click', callback);
				state.textContent = '해제';
				isConnect = false;
			}
		});
	</script>
</body>
</html>